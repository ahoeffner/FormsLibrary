cb.fields.forEach((inst) =>
            {
                let def:FieldDefinition = fielddef.get(inst.name);
                let coldef:ColumnDefinition = colindex.get(inst.name.toLowerCase());

                if (def == null)
                {
                    def = {name: inst.name};
                    FieldDefinitions.add(false,block.clazz,def);
                    fielddef = FieldDefinitions.getFieldIndex(block.clazz);
                }

                if (def.type == null)
                    def.type = FieldType.input;

                if (!def.hasOwnProperty("mandatory") && coldef != null)
                    def.mandatory = coldef.mandatory;

                let idef:FieldDefinition = null;

                if (inst.id.length > 0)
                    idef = FieldDefinitions.getFieldOverride(block.clazz,inst.id);

                if (idef != null)
                {
                    def = idef;

                    if (idef.type == null)
                        idef.type = def.type;

                    if (!idef.hasOwnProperty("mandatory"))
                        idef.mandatory = def.mandatory;

                    if (!idef.hasOwnProperty("fieldoptions"))
                        idef.fieldoptions = def.fieldoptions;
                }

                inst.type = def.type;
                inst.case = def.case;
                inst.fieldoptions = def.fieldoptions;

            });